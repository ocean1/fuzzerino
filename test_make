# Makefile
.PHONY: FORCE all clean

DEBUG ?= 0
CC = gcc

CFLAGS = -Wall

ifeq ($(DEBUG), 1)
	CFLAGS += -g
endif

all: g p
	@echo debug is $(DEBUG)

g: g.o
	$(CC) g.o -o g $(CFLAGS)

p: p.o
	$(CC) p.o -o p $(CFLAGS)

g.c:
	$(CC) -c g.c -o g.o $(CFLAGS)

p.c:
	$(CC) -c p.c -o p.o $(CFLAGS)

clean:
	rm -f g p
	rm -f *.o
